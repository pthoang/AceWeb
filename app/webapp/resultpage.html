<head>
    <meta charset="utf-8">
</head>

<div ng-app="mainApp.webapp" ng-controller="resultCtrl">
    <div align="center">
        <h1>{{feedbackText}}</h1>
        <h2>{{score}} av {{threshold}}</h2>
        <div class="container-fluid" style="width: 100px; margin-bottom: 20px;">
            <button ng-show="showContinueBtn()" style="margin-left: -5px" class="btn btn-round" ng-click="startQuiz()"
                    ng-style="setColor(subject.color)">
                <img src="img/more-quiz-icon-white.png" style="width: 40px">
            </button>
            <button ng-show="showAgainBtn()" style="margin-left: -5px" class="btn btn-round" ng-click="startQuiz()"
                    ng-style="setColor(subject.color)">
                <span class="glyphicon glyphicon-repeat" style="color: white; font-size: 30px;"></span>
            </button>
        </div>
        <div class="container-fluid" style="width: 220px; margin-bottom: 10px">
            <i ng-show="!(showPositiveFeedback || showNegativeFeedback)"><p>Hva synes du om quizen?</p></i>
            <i ng-show="(showPositiveFeedback || showNegativeFeedback)"><p>Takk for tilbakemelding!</p></i>
            <button ng-disabled="showNegativeFeedback" ng-click="sendUserFeedback(true)"
                    class="btn btn-round" ng-style="setColor(subject.color)">
                <span class="glyphicon glyphicon-thumbs-up" style="color: white; font-size: 30px"></span>
            </button>
            <button ng-disabled="showPositiveFeedback" ng-click="sendUserFeedback(false)"
                    class="btn btn-round" ng-style="setColor(subject.color)">
                <span class="glyphicon glyphicon-thumbs-down flipped-h" style="color: white; font-size: 30px;"></span>
            </button>
        </div>
        <div ng-show="showFeedback" class="container-fluid" style="width: 250px">
            <i><p ng-click="showFeedbackOptions=true" style="cursor: pointer">Klikk her for Ã¥ gi en mer detaljert tilbakemelding</p></i>
            <uib-accordion>
                <div uib-accordion-group class="panel-feedback"
                     is-open="showFeedbackOptions" align="left">
                    <div ng-repeat="option in userFeedbackOptions track by $index">
                        <input type="checkbox" ng-model="userFeedbackSendList[option]"> {{option}}
                    </div>
                    <div style="margin-bottom: 2px">
                        <input type="checkbox" ng-model="userFeedbackSendList.other"> Annet
                    </div>
                    <div align="right">
                        <button ng-click="sendDetailedUserFeedback()" class="btn btn-primary">Send</button>
                    </div>
                </div>
            </uib-accordion>
        </div>

    </div>

    <div ng-hide="score == threshold" class="container-fluid" style="width: 60%; margin-top: 10px; margin-bottom: 30px">
        <h3>Til neste gang:</h3>
        <div ng-repeat="wrong in wrongList track by $index">
            <br>
            <h4>{{exercises[wrong].question.text}}</h4>
            <div ng-if="exercises[wrong].type == 'mc'" ng-include="'webapp/resultpageType/mc.html'"></div>
            <div ng-if="exercises[wrong].type == 'pd'" ng-include="'webapp/resultpageType/pd.html'"></div>
            <div ng-if="exercises[wrong].type == 'tf'" ng-include="'webapp/resultpageType/tf.html'"></div>
        </div>
    </div>
</div>

